(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>h,tree:()=>c});var s=r(482),o=r(9108),i=r(2563),n=r.n(i),a=r(8300),u={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3625)),"/home/ubuntu/app/pathfinders-client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],l=[],d="/_not-found",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4127:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},9062:(e,t,r)=>{Promise.resolve().then(r.bind(r,4755)),Promise.resolve().then(r.bind(r,5013))},5013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>u});var s=r(5344),o=r(3750),i=r(4755),n=r(6256);function a(){let{theme:e}=(0,n.F)();return s.jsx(i.Toaster,{position:"top-right",toastOptions:{style:{background:"dark"===e?"#333":"#fff",color:"dark"===e?"#fff":"#333"}}})}function u({children:e}){return s.jsx(n.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,s.jsxs)(o.H,{children:[s.jsx(a,{}),e]})})}},3750:(e,t,r)=>{"use strict";r.d(t,{H:()=>u,a:()=>c});var s=r(5344),o=r(3729),i=r(6548),n=r(4780);let a=(0,o.createContext)(void 0);function u({children:e}){let[t,r]=(0,o.useState)(null),[u,c]=(0,o.useState)(!0),l=(0,o.useCallback)(async()=>{try{let e=(await i.hi.get("/api/csrf/")).data.csrfToken;i.hi.defaults.headers.common["X-CSRFToken"]=e;let t=await i.hi.get("/api/auth/me/");r(t.data)}catch(e){e instanceof n.d7&&e.response?.status!==401&&e.response?.status!==403&&console.error("Auth check failed:",e),r(null)}finally{c(!1)}},[]),d=(0,o.useCallback)(async(e,t)=>{try{let s=await i.hi.get("/api/csrf/");i.hi.defaults.headers.common["X-CSRFToken"]=s.data.csrfToken;let o=await i.hi.post("/api/auth/login/",{username:e,password:t});r(o.data.user)}catch(e){throw e instanceof n.d7&&console.error("Login failed:",e),e}},[]),p=(0,o.useCallback)(async()=>{try{await i.hi.post("/api/auth/logout/"),r(null)}catch(e){throw e instanceof n.d7&&console.error("Logout error:",e),e}},[]),h=async e=>{try{let t=await i.hi.get("/api/csrf/");i.hi.defaults.headers.common["X-CSRFToken"]=t.data.csrfToken,await i.hi.post("/api/auth/register/",e),await d(e.username,e.password)}catch(e){if(e instanceof n.d7&&e.response?.data)throw Error(Object.entries(e.response.data).map(([e,t])=>`${e}: ${t}`).join(", "));throw e}},f=async e=>{try{let t=await i.hi.get("/api/csrf/");i.hi.defaults.headers.common["X-CSRFToken"]=t.data.csrfToken;let s=await i.hi.patch("/api/auth/profile/",e);r(s.data)}catch(e){throw console.error("Profile update failed:",e),e}};return(0,o.useEffect)(()=>{l()},[l]),s.jsx(a.Provider,{value:{user:t,loading:u,login:d,logout:p,checkAuth:l,register:h,updateProfile:f},children:e})}function c(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6548:(e,t,r)=>{"use strict";r.d(t,{hi:()=>s});let s=r(7665).default.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});s.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(window.location.href="/login"),Promise.reject(e)))},3625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5036),o=r(6843);let i=(0,o.createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/providers.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let u=(0,o.createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/providers.tsx#Providers`);r(5023);var c=r(7171);function l({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsxs)("body",{children:[s.jsx(u,{children:e}),s.jsx(c.x7,{position:"top-right"})]})})}},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[287],()=>r(1998));module.exports=s})();
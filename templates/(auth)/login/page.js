(()=>{var e={};e.id=665,e.ids=[665],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=r(482),a=r(9108),n=r(2563),i=r.n(n),o=r(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2169)),"/home/ubuntu/app/pathfinders-client/src/app/(auth)/login/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3625)),"/home/ubuntu/app/pathfinders-client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=["/home/ubuntu/app/pathfinders-client/src/app/(auth)/login/page.tsx"],c="/(auth)/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4127:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},9062:(e,t,r)=>{Promise.resolve().then(r.bind(r,4755)),Promise.resolve().then(r.bind(r,5013))},7414:(e,t,r)=>{Promise.resolve().then(r.bind(r,4736))},4736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(5344),a=r(3729),n=r(708),i=r(5453),o=r(9709),l=r(3750),d=r(5094),u=r(6540),c=r(874);let p=o.z.object({username:o.z.string().min(3,"Username must be at least 3 characters"),password:o.z.string().min(6,"Password must be at least 6 characters")});function m(){let{login:e}=(0,l.a)(),[t,r]=(0,a.useState)(""),[o,m]=(0,a.useState)(!1),{register:f,handleSubmit:h,formState:{errors:x}}=(0,n.cI)({resolver:(0,i.F)(p)}),g=async t=>{try{m(!0),r(""),await e(t.username,t.password)}catch(e){r(e.response?.data?.message||"Invalid username or password")}finally{m(!1)}};return(0,s.jsxs)("form",{onSubmit:h(g),className:"mt-8 space-y-6",children:[t&&s.jsx(c.b,{variant:"destructive",children:t}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),s.jsx(u.I,{id:"username",type:"text",...f("username"),placeholder:"Username",className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"}),x.username&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.username.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx(u.I,{id:"password",type:"password",...f("password"),placeholder:"Password",className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"}),x.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.password.message})]})]}),s.jsx(d.z,{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:o?"Signing in...":"Sign in"})]})}var f=r(6506),h=r(8378),x=r(8428);function g(){let{user:e,loading:t}=(0,l.a)(),r=(0,x.useRouter)();return((0,a.useEffect)(()=>{e&&r.push("/dashboard")},[e,r]),t)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(h.g,{size:"large"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome back"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Discover your motivational gifts and find your purpose"})]}),s.jsx(m,{}),s.jsx("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(f.default,{href:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})})]})})}},5013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>l});var s=r(5344),a=r(3750),n=r(4755),i=r(6256);function o(){let{theme:e}=(0,i.F)();return s.jsx(n.Toaster,{position:"top-right",toastOptions:{style:{background:"dark"===e?"#333":"#fff",color:"dark"===e?"#fff":"#333"}}})}function l({children:e}){return s.jsx(i.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,s.jsxs)(a.H,{children:[s.jsx(o,{}),e]})})}},874:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var s=r(5344),a=r(3729),n=r(1453);let i=(0,a.forwardRef)(({className:e,variant:t="default",...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,n.cn)("rounded-lg border p-4",{"bg-destructive/15 text-destructive border-destructive/50":"destructive"===t,"bg-background text-foreground":"default"===t},e),...r}));i.displayName="Alert"},5094:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var s=r(5344),a=r(3729),n=r(1453);let i=(0,a.forwardRef)(({className:e,variant:t="default",size:r="default",...a},i)=>s.jsx("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===t,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===t},{"h-10 px-4 py-2":"default"===r,"h-9 rounded-md px-3":"sm"===r,"h-11 rounded-md px-8":"lg"===r},e),ref:i,...a}));i.displayName="Button"},6540:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(5344),a=r(3729),n=r(1453);let i=(0,a.forwardRef)(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2","text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},8378:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var s=r(5344);function a({size:e="default"}){return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-indigo-500 ${{small:"h-4 w-4",default:"h-8 w-8",large:"h-12 w-12"}[e]}`})})}},3750:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,a:()=>d});var s=r(5344),a=r(3729),n=r(6548),i=r(4780);let o=(0,a.createContext)(void 0);function l({children:e}){let[t,r]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),u=(0,a.useCallback)(async()=>{try{let e=(await n.hi.get("/api/csrf/")).data.csrfToken;n.hi.defaults.headers.common["X-CSRFToken"]=e;let t=await n.hi.get("/api/auth/me/");r(t.data)}catch(e){e instanceof i.d7&&e.response?.status!==401&&e.response?.status!==403&&console.error("Auth check failed:",e),r(null)}finally{d(!1)}},[]),c=(0,a.useCallback)(async(e,t)=>{try{let s=await n.hi.get("/api/csrf/");n.hi.defaults.headers.common["X-CSRFToken"]=s.data.csrfToken;let a=await n.hi.post("/api/auth/login/",{username:e,password:t});r(a.data.user)}catch(e){throw e instanceof i.d7&&console.error("Login failed:",e),e}},[]),p=(0,a.useCallback)(async()=>{try{await n.hi.post("/api/auth/logout/"),r(null)}catch(e){throw e instanceof i.d7&&console.error("Logout error:",e),e}},[]),m=async e=>{try{let t=await n.hi.get("/api/csrf/");n.hi.defaults.headers.common["X-CSRFToken"]=t.data.csrfToken,await n.hi.post("/api/auth/register/",e),await c(e.username,e.password)}catch(e){if(e instanceof i.d7&&e.response?.data)throw Error(Object.entries(e.response.data).map(([e,t])=>`${e}: ${t}`).join(", "));throw e}},f=async e=>{try{let t=await n.hi.get("/api/csrf/");n.hi.defaults.headers.common["X-CSRFToken"]=t.data.csrfToken;let s=await n.hi.patch("/api/auth/profile/",e);r(s.data)}catch(e){throw console.error("Profile update failed:",e),e}};return(0,a.useEffect)(()=>{u()},[u]),s.jsx(o.Provider,{value:{user:t,loading:l,login:c,logout:p,checkAuth:u,register:m,updateProfile:f},children:e})}function d(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6548:(e,t,r)=>{"use strict";r.d(t,{hi:()=>s});let s=r(7665).default.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});s.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(window.location.href="/login"),Promise.reject(e)))},1453:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n,p:()=>i});var s=r(6815),a=r(9377);function n(...e){return(0,a.m6)((0,s.W)(e))}function i(e){return new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}},2169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/(auth)/login/page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default},3625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5036),a=r(6843);let n=(0,a.createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/providers.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let l=(0,a.createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/providers.tsx#Providers`);r(5023);var d=r(7171);function u({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsxs)("body",{children:[s.jsx(l,{children:e}),s.jsx(d.x7,{position:"top-right"})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[287,476,341,967],()=>r(5069));module.exports=s})();
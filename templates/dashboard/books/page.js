(()=>{var e={};e.id=254,e.ids=[254],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3786:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=t(482),r=t(9108),i=t(2563),l=t.n(i),o=t(8300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let c=["",{children:["dashboard",{children:["books",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7946)),"/home/ubuntu/app/pathfinders-client/src/app/dashboard/books/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3096)),"/home/ubuntu/app/pathfinders-client/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3625)),"/home/ubuntu/app/pathfinders-client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/app/pathfinders-client/src/app/dashboard/books/page.tsx"],p="/dashboard/books/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/books/page",pathname:"/dashboard/books",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9706:(e,s,t)=>{Promise.resolve().then(t.bind(t,9604))},9604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5344),r=t(3729),i=t(9573),l=t(8378),o=t(3673),n=t(6506),c=t(1453),d=t(4109);let p=(0,d.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var m=t(8477);let u=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function x({book:e,badge:s}){return(0,a.jsxs)(o.Z,{className:"group h-full overflow-hidden bg-gradient-to-b from-white to-slate-50/50  border-slate-200/50 hover:border-slate-300/80 transition-all duration-200  hover:shadow-lg relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-slate-50  to-blue-50/20 rounded-bl-[100px] -z-0"}),(0,a.jsxs)("div",{className:"p-6 flex flex-col h-full relative z-10",children:[s&&a.jsx("div",{className:`self-end mb-4 px-3 py-1 rounded-full text-sm font-medium 
            backdrop-blur-sm shadow-sm ${s.className}`,children:s.text}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600  transition-colors duration-200",children:e.title}),e.subtitle&&a.jsx("p",{className:"text-slate-600/90 text-sm leading-relaxed",children:e.subtitle})]}),(0,a.jsxs)("div",{className:"space-y-6 flex-grow",children:[(0,a.jsxs)("div",{className:"bg-white/80 rounded-lg p-4 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Reading Progress"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600",children:[e.reading_progress.completion_percentage,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${e.reading_progress.completion_percentage}%`}})})]}),e.careerChoice&&(0,a.jsxs)("div",{className:"flex items-center gap-3 py-3 px-4 rounded-lg bg-white/80  backdrop-blur-sm border border-slate-100",children:[a.jsx(p,{className:"w-5 h-5 text-slate-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Career Choices"}),e.careerChoice.is_final?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-emerald-700",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),"Final Choice Made"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-amber-700",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),"In Progress"]})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 rounded-lg p-4 space-y-3 backdrop-blur-sm  border border-slate-100",children:[e.reading_progress.current_category&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(m.Z,{className:"w-4 h-4 text-slate-400"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:["Currently reading: ",a.jsx("span",{className:"font-medium text-slate-700",children:e.reading_progress.current_category})]})]}),e.reading_progress.last_accessed&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(u,{className:"w-4 h-4 text-slate-400"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:["Last read: ",a.jsx("span",{className:"font-medium text-slate-700",children:(0,c.p)(e.reading_progress.last_accessed)})]})]})]})]}),a.jsx(n.default,{href:`/dashboard/books/${e.id}`,className:"mt-6 block w-full text-center bg-gradient-to-r from-indigo-600 to-blue-600  text-white py-2.5 px-4 rounded-lg font-medium hover:from-indigo-700 hover:to-blue-700  transition-all duration-200 shadow-sm hover:shadow-md",children:e.reading_progress.completion_percentage>0?"Continue Reading":"Start Reading"})]})]})}var h=t(4755);function g(){let[e,s]=(0,r.useState)([]),[t,o]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async function(){try{let e=await i.H.getMyLibrary();s(e)}catch(e){console.error("Failed to fetch books:",e),h.toast.error("Failed to load your books")}finally{o(!1)}})()},[]),t)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(l.g,{size:"large"})});if(0===e.length)return a.jsx("div",{className:"text-center py-12",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[a.jsx(m.Z,{className:"w-12 h-12 mx-auto text-slate-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Books Available Yet"}),a.jsx("p",{className:"text-slate-600",children:"Complete your assessment to unlock your personalized book recommendations."})]})});let n=e.filter(e=>"PRIMARY"===e.access_details.access_reason),c=e.filter(e=>"SECONDARY"===e.access_details.access_reason);return(0,a.jsxs)("div",{className:"space-y-12",children:[n.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg",children:a.jsx("span",{className:"block w-2 h-2 bg-blue-600 rounded-full"})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Primary Gift Book"})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 auto-rows-fr",children:n.map(e=>a.jsx(x,{book:e,badge:{text:"Primary",className:"bg-blue-50 text-blue-700"}},e.id))})]}),c.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-1.5 bg-purple-50 rounded-lg",children:a.jsx("span",{className:"block w-2 h-2 bg-purple-600 rounded-full"})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Secondary Gift Books"})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 auto-rows-fr",children:c.map(e=>a.jsx(x,{book:e,badge:{text:"Secondary",className:"bg-purple-50 text-purple-700"}},e.id))})]})]})}var b=t(3750);function f(){let{user:e,loading:s}=(0,b.a)();return s?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(l.g,{size:"large"})}):e?(0,a.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl",children:a.jsx(m.Z,{className:"w-6 h-6 text-indigo-600"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-700  bg-clip-text text-transparent",children:"My Library"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-slate-600 text-lg",children:"Books are assigned based on your primary and secondary gifts"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50  text-blue-700 rounded-lg text-sm font-medium",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Primary Gift Book"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-purple-50  text-purple-700 rounded-lg text-sm font-medium",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),"Secondary Gift Book"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200/50 shadow-lg  overflow-hidden",children:[a.jsx("div",{className:"border-b border-slate-200 bg-slate-50/50 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Available Books"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.profile.gift_summary?.primary_gift&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,a.jsxs)("span",{children:["Based on your ",e.profile.gift_summary.primary_gift," gift"]})]}),e.profile.gift_summary?.secondary_gifts?.[0]&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),(0,a.jsxs)("span",{children:["Based on your ",e.profile.gift_summary.secondary_gifts[0]," gift"]})]})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx(g,{})})]})]}):null}},9573:(e,s,t)=>{"use strict";t.d(s,{H:()=>r});var a=t(6548);let r={getMyLibrary:async()=>(await a.hi.get("/api/books/my_library/")).data,getTableOfContents:async e=>{try{let s=await a.hi.get(`/api/books/${e}/table_of_contents/`);if(!s.data)throw Error("No data received from table of contents endpoint");return s.data}catch(e){throw console.error("Error fetching table of contents:",e),e}},getCurrentPosition:async e=>{try{return(await a.hi.get(`/api/books/${e}/current_position/`)).data||{current_category:null,completion_percentage:0,last_position:null}}catch(e){throw console.error("Error fetching current position:",e),e}},savePosition:async(e,s)=>(await a.hi.post(`/api/books/${e}/save_position/`,s)).data,getCareers:async e=>(await a.hi.get(`/api/books/${e}/careers/`)).data,bookmarkCareer:async(e,s)=>(await a.hi.post(`/api/books/${e}/bookmark_career/`,s)).data,getReadingHistory:async e=>(await a.hi.get(`/api/books/${e}/reading_history/`)).data,getBookmarks:async e=>{try{let s=await a.hi.get(`/api/books/${e}/bookmarks/`);return Array.isArray(s.data)?s.data:[]}catch(e){throw console.error("Error fetching bookmarks:",e),e}},updateBookmark:async(e,s,t)=>(await a.hi.patch(`/api/books/${e}/bookmarks/${s}/`,t)).data,deleteBookmark:async(e,s)=>{try{await a.hi.delete(`/api/books/${e}/remove_bookmark/${s}/`)}catch(e){throw console.error("Error deleting bookmark:",e),e}},getCareerChoices:async e=>(await a.hi.get(`/api/books/${e}/career_choices/`)).data,createCareerChoice:async(e,s)=>(await a.hi.post(`/api/books/${e}/career_choices/`,s)).data,updateCareerChoice:async(e,s)=>(await a.hi.patch(`/api/career-choices/${e}/`,s)).data,markCareerChoiceAsFinal:async e=>(await a.hi.post(`/api/career-choices/${e}/mark_as_final/`)).data,addResearchNote:async(e,s)=>(await a.hi.post(`/api/career-choices/${e}/add_note/`,s)).data,updateResearchNote:async(e,s)=>(await a.hi.patch(`/api/career-notes/${e}/`,s)).data,deleteResearchNote:async e=>{await a.hi.delete(`/api/career-notes/${e}/`)}}},7946:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,t(6843).createProxy)(String.raw`/home/ubuntu/app/pathfinders-client/src/app/dashboard/books/page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default},4109:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(3729);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:n,iconNode:c,...d},p)=>(0,a.createElement)("svg",{ref:p,...l,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:i("lucide",o),...d},[...c.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(n)?n:[n]])),n=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...l},n)=>(0,a.createElement)(o,{ref:n,iconNode:s,className:i(`lucide-${r(e)}`,t),...l}));return t.displayName=`${e}`,t}},6239:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},8477:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},5426:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},8220:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},7232:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},6086:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},1031:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},7737:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4109).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[287,476,341,115],()=>t(3786));module.exports=a})();